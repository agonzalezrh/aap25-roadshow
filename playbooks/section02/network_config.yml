---
- name: Configure Network Switch
  hosts: Core
  gather_facts: no
  
  vars:
   vlan_id: 100
   interface: GigabitEthernet1

  tasks:
    
    - name: Override device configuration of all l2 interfaces with provided configuration
      cisco.ios.ios_l2_interfaces:
       config:
         - name: GigabitEthernet1
           access:
            vlan: 20
      state: overridden
